"use strict";(self.webpackChunkmystore=self.webpackChunkmystore||[]).push([[781],{6781:(y,m,s)=>{s.r(m),s.d(m,{ProductModule:()=>M});var c=s(6895),v=s(1075),l=s(9965),t=s(8256),a=s(6308);let g=(()=>{class o{constructor(){this.ratingEmitter=new t.vpe}ngOnInit(){this.starwidth=16.1*this.rating}onClick(){this.ratingEmitter.emit(this.rating)}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-star"]],inputs:{rating:"rating"},outputs:{ratingEmitter:"ratingEmitter"},decls:7,vars:3,consts:[[1,"wrapper",3,"title","click"],[2,"width","81px"],[1,"bi","bi-star-fill"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0),t.NdJ("click",function(){return r.onClick()}),t.TgZ(1,"div",1),t._UZ(2,"i",2)(3,"i",2)(4,"i",2)(5,"i",2)(6,"i",2),t.qZA()()),2&e&&(t.Udp("width",r.starwidth,"px"),t.Q6J("title",r.rating))},styles:[".wrapper[_ngcontent-%COMP%]{overflow:hidden}"]}),o})();class f{}var u=s(433);let Z=(()=>{class o{constructor(e,r){this.pService=e,this.router=r,this.productreview=new f}ngOnInit(){this.productreview.productId=this.pId}onSubmit(){console.log(this.productreview),this.pService.addReview(this.productreview).subscribe(e=>{alert(`Review is added Successfully and review id is ${e.id}`),this.router.navigate(["/product","list"])})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(a.M),t.Y36(l.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-product-review-form"]],inputs:{pId:"pId"},decls:32,vars:11,consts:[[1,"container","mb-5"],[3,"ngSubmit"],["reviewform","ngForm"],[1,"mb-3"],["for","productId",1,"form-label"],["type","number","id","productId","name","productId","required","","readonly","","pattern","^[0-9]{4}$",1,"form-control",3,"ngModel","ngModelChange"],["pId","ngModel"],[1,"alert","alert-danger",3,"hidden"],[3,"hidden"],["for","customerEmail",1,"form-label"],["type","email","id","customerEmail","name","customerEmail","required","","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$",1,"form-control",3,"ngModel","ngModelChange"],["cmail","ngModel"],["for","productRating",1,"form-label"],["type","range","id","productRating","min","0","max","5","value","2","name","productRating",1,"form-control",3,"ngModel","ngModelChange"],["for","productComment",1,"form-label"],["type","string","id","productComment","rows","3","name","productComment",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","value","submit",1,"btn","btn-outline-success",3,"disabled"]],template:function(e,r){if(1&e&&(t.TgZ(0,"div",0)(1,"form",1,2),t.NdJ("ngSubmit",function(){return r.onSubmit()}),t.TgZ(3,"div",3)(4,"label",4),t._uU(5,"Product ID:"),t.qZA(),t.TgZ(6,"input",5,6),t.NdJ("ngModelChange",function(i){return r.productreview.productId=i}),t.qZA(),t.TgZ(8,"div",7)(9,"span",8),t._uU(10,"Enter a valid Product ID......!"),t.qZA(),t.TgZ(11,"span",8),t._uU(12,"Product ID must contain four digits.......!"),t.qZA()()(),t.TgZ(13,"div",3)(14,"label",9),t._uU(15,"Customer Email:"),t.qZA(),t.TgZ(16,"input",10,11),t.NdJ("ngModelChange",function(i){return r.productreview.customerEmail=i}),t.qZA(),t.TgZ(18,"div",7)(19,"span",8),t._uU(20,"Please enter your email......!"),t.qZA(),t.TgZ(21,"span",8),t._uU(22,"Enter a valid Email......!"),t.qZA()()(),t.TgZ(23,"div",3)(24,"label",12),t._uU(25,"Product Rating:"),t.qZA(),t.TgZ(26,"input",13),t.NdJ("ngModelChange",function(i){return r.productreview.productRating=i}),t.qZA()(),t.TgZ(27,"div",3)(28,"label",14),t._uU(29,"Message:"),t.qZA(),t.TgZ(30,"textarea",15),t.NdJ("ngModelChange",function(i){return r.productreview.productComment=i}),t.qZA()(),t._UZ(31,"input",16),t.qZA()()),2&e){const d=t.MAs(2),i=t.MAs(7),p=t.MAs(17);t.xp6(6),t.Q6J("ngModel",r.productreview.productId),t.xp6(2),t.Q6J("hidden",i.valid||i.untouched),t.xp6(1),t.Q6J("hidden",!(null!=i.errors&&i.errors.required)),t.xp6(2),t.Q6J("hidden",!(null!=i.errors&&i.errors.pattern)),t.xp6(5),t.Q6J("ngModel",r.productreview.customerEmail),t.xp6(2),t.Q6J("hidden",p.valid||p.untouched),t.xp6(1),t.Q6J("hidden",!(null!=p.errors&&p.errors.required)),t.xp6(2),t.Q6J("hidden",!(null!=p.errors&&p.errors.pattern)),t.xp6(5),t.Q6J("ngModel",r.productreview.productRating),t.xp6(4),t.Q6J("ngModel",r.productreview.productComment),t.xp6(1),t.Q6J("disabled",d.invalid)}},dependencies:[u._Y,u.Fj,u.wV,u.eT,u.JJ,u.JL,u.Q7,u.c5,u.On,u.F],styles:[".ng-touched.ng-invalid[_ngcontent-%COMP%]:not(form){border-left:2px solid red}.ng-dirty.ng-valid[_ngcontent-%COMP%]:not(form){border-left:2px solid green}"]}),o})(),_=(()=>{class o{transform(e,r=10){return e-e*r/100}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275pipe=t.Yjl({name:"discount",type:o,pure:!0}),o})();function h(o,n){if(1&o&&(t.TgZ(0,"div")(1,"div",2)(2,"div",3)(3,"div",4),t._UZ(4,"img",5),t.qZA(),t.TgZ(5,"div",4)(6,"h1",6),t._uU(7),t.qZA(),t.TgZ(8,"h2"),t._uU(9),t.ALo(10,"currency"),t.ALo(11,"discount"),t.qZA(),t.TgZ(12,"p",7),t._uU(13,"MRP: "),t.TgZ(14,"del"),t._uU(15),t.ALo(16,"currency"),t.qZA()(),t.TgZ(17,"p",8),t._uU(18),t.qZA(),t.TgZ(19,"p",9),t._uU(20),t.ALo(21,"date"),t.qZA(),t.TgZ(22,"div",10),t._UZ(23,"app-star",11),t.qZA(),t.TgZ(24,"button",12),t._uU(25,"Add to Cart"),t.qZA()()(),t.TgZ(26,"div",3),t._UZ(27,"app-product-review-form",13),t.qZA()()()),2&o){const e=n.ngIf;t.xp6(4),t.s9C("src",e.productImage,t.LSH),t.xp6(3),t.Oqu(e.productName),t.xp6(2),t.Oqu(t.xi3(10,8,t.xi3(11,11,e.productPrice,e.productDiscount),"INR")),t.xp6(6),t.Oqu(t.xi3(16,14,e.productPrice,"INR")),t.xp6(3),t.hij("-",e.productDiscount,"% OFF"),t.xp6(2),t.hij("Released on ",t.xi3(21,17,e.productDate,"longDate"),""),t.xp6(3),t.Q6J("rating",e.productRating),t.xp6(4),t.Q6J("pId",e.id)}}let C=(()=>{class o{constructor(e,r){this.route=e,this.pService=r,this.id=Number(this.route.snapshot.paramMap.get("id")),this.id&&(this.product$=this.pService.getProductById(this.id))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(l.gz),t.Y36(a.M))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-product-details"]],decls:3,vars:3,consts:[[1,"container"],[4,"ngIf"],[1,"container","py-5"],[1,"row"],[1,"col-md-6"],["alt","iPhone 14",1,"img-fluid",3,"src"],[1,"display-4","fw-bold"],[1,""],[1,"text-danger","fw-bold"],[1,"fw-bold","text-muted"],[1,"my-4"],[3,"rating"],[1,"btn","btn-success","btn-lg"],[3,"pId"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0),t.YNc(1,h,28,20,"div",1),t.ALo(2,"async"),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,r.product$)))},dependencies:[c.O5,g,Z,c.Ov,c.H9,c.uU,_]}),o})();const x=function(o){return["/product","details",o]};function P(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",4)(1,"div",5),t._UZ(2,"img",6),t.TgZ(3,"div",7)(4,"h5",8),t._uU(5),t.ALo(6,"titlecase"),t.qZA(),t.TgZ(7,"p",9),t._uU(8),t.ALo(9,"currency"),t.ALo(10,"discount"),t.qZA(),t.TgZ(11,"p",10),t._uU(12,"MRP: "),t.TgZ(13,"del"),t._uU(14),t.ALo(15,"currency"),t.qZA(),t._uU(16),t.qZA(),t.TgZ(17,"p",10),t._uU(18),t.ALo(19,"date"),t.qZA(),t.TgZ(20,"p")(21,"app-star",11),t.NdJ("ratingEmitter",function(d){t.CHM(e);const i=t.oxw(2);return t.KtG(i.show(d))}),t.qZA()(),t.TgZ(22,"a",12),t.NdJ("click",function(){const i=t.CHM(e).$implicit,p=t.oxw(2);return t.KtG(p.onDelete(i.id))}),t._UZ(23,"i",13),t.qZA(),t.TgZ(24,"a",14),t.NdJ("click",function(){t.CHM(e);const d=t.oxw(2);return t.KtG(d.onAddToCart())}),t._UZ(25,"i",15),t.qZA(),t.TgZ(26,"a",16),t._UZ(27,"i",17),t.qZA()()()()}if(2&o){const e=n.$implicit,r=t.oxw(2);t.xp6(2),t.Q6J("ngClass",r.cssClass)("src",e.productImage,t.LSH),t.xp6(3),t.Oqu(t.lcZ(6,10,e.productName)),t.xp6(2),t.Q6J("ngClass",r.cssPrice),t.xp6(1),t.Oqu(t.xi3(9,12,t.xi3(10,15,e.productPrice,e.productDiscount),"INR")),t.xp6(6),t.Oqu(t.xi3(15,18,e.productPrice,"INR")),t.xp6(2),t.hij(" ",e.productDiscount,"% off"),t.xp6(2),t.Oqu(t.xi3(19,21,e.productDate,"longDate")),t.xp6(3),t.Q6J("rating",e.productRating),t.xp6(5),t.Q6J("routerLink",t.VKq(24,x,e.id))}}function T(o,n){if(1&o&&(t.TgZ(0,"div")(1,"div",2),t.YNc(2,P,28,26,"div",3),t.qZA()()),2&o){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.productlist)}}function A(o,n){1&o&&(t.TgZ(0,"div"),t._uU(1," Product list is empty "),t.qZA())}const b=[{path:"list",component:(()=>{class o{show(e){console.log(e)}constructor(e){this.pService=e,this.cssStyle={color:"red","font-size":"22px","border-bottom":"2px double green"},this.cssClass={"img-size":!0},this.cssPrice={"text-info":!1,"fs-2 text":!0},this.productlist=[],e.getProductList().subscribe({next:r=>this.productlist=r})}onAddToCart(){this.pService.increaseCartCounter()}onDelete(e){this.pService.deleteProduct(e).subscribe({next:r=>{console.log("It is deleted successfully....!"),this.pService.getProductList().subscribe({next:d=>this.productlist=d})},error:r=>alert("Error occcured"+r)})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(a.M))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-product-list"]],decls:3,vars:2,consts:[[1,"container"],[4,"ngIf"],[1,"row"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card"],["alt","...",1,"card-img-top",3,"ngClass","src"],[1,"card-body"],["defaultSize","20px","appZoom","30px",1,"card-title"],[1,"card-text",3,"ngClass"],[1,"card-text"],[3,"rating","ratingEmitter"],[1,"btn","btn-danger","m-1",3,"click"],[1,"bi","bi-trash"],[1,"btn","btn-primary","m-1",3,"click"],[1,"bi","bi-cart-plus"],[1,"btn","btn-primary","m-1",3,"routerLink"],[1,"bi","bi-eye"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0),t.YNc(1,T,3,1,"div",1),t.YNc(2,A,2,0,"div",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",r.productlist.length>0),t.xp6(1),t.Q6J("ngIf",0==r.productlist.length))},dependencies:[c.mk,c.sg,c.O5,l.rH,g,c.rS,c.H9,c.uU,_],styles:[".img-size[_ngcontent-%COMP%]{height:250px}"]}),o})()},{path:"details/:id",component:C}];let w=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[c.ez,l.Bz.forChild(b),l.Bz]}),o})(),M=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[c.ez,v.m,w]}),o})()}}]);